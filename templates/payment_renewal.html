<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Element - Index School</title>
    <link rel="stylesheet" href="{{url_for('static',filename='payment renewal.css')}}">
</head>

<body>
    <div id="all">
        <div id="newElement">
            <h2>payment renewal process:</h2>
            <form action="" method="POST" id="newElementForm">
                <label for="firstName">First Name:</label>
                <input type="text" id="firstName" name="firstName" required>

                <label for="lastName">Last Name:</label>
                <input type="text" id="lastName" name="lastName" required>

                <label for="email">Email:</label>
                <input type="email" id="email" name="email" required>

                <label for="formation">Formation:</label>
                <select id="formation" name="formation" required>
                    <option value="none" selected disabled>Select a formation</option>
                    <option value="language">Language</option>
                    <option value="softSkills">Soft Skills</option>
                    <option value="schoolSupport">School Support</option>
                </select>

                <div id="language" style="display:none;">
                    <label>Languages:</label>
                    <select id="languageSelect" name="languageSelect">
                        <option value="English">English</option>
                        <option value="French">French</option>
                        <option value="Spanish">Spanish</option>
                    </select>
                </div>

                <div id="Skills" style="display:none;">
                    <label>Skills:</label>
                    <select id="SkillsSelect" name="SkillsSelect" >
                        <option value="C">C</option>
                        <option value="C++">C++</option>
                        <option value="Python">Python</option>
                    </select>
                </div>

                <div id="schoolLevel" style="display:none;">
                    <label>School Level:</label>
                    <select id="schoolLevelSelect" name="schoolLevelSelect" onchange="handleSchoolLevelChange()">
                        <option value="none" selected disabled>Select a Level</option>
                        <option value="first year Secondaire">First year Secondaire</option>
                        <option value="Second year Secondaire">Second year Secondaire</option>
                        <option value="Third year Secondaire">Third year Secondaire</option>
                        <option value="first year High School">First year High School</option>
                        <option value="Second year High School">Second year High School</option>
                        <option value="Third year High School">Third year High School</option>
                    </select>
                </div>

                <div id="schoolSubjects" style="display:none;">
                    <label>School Subjects:</label>
                    <select id="schoolSubjectSelect" name="schoolSubjectSelect" >
                        <!-- Options will be dynamically added based on the selection -->
                        <option value="Maths">Maths</option>
                        <option value="PC">PC</option>
                        <option value="SVT">SVT</option>
                        <option value="Arabic">Arabic</option>
                        <option value="French 1st">French</option>
                        <option value="History">History</option>
                        <option value="Islamic Education">Islamic Education</option>
                        <option value="Philo">Philo</option>
                        <option value="English 2nd">English</option>
                    </select>

                </div>

                <div id="schoolSupportOptions" style="display:none;">
                    <label>School Support Options:</label>
                    <select id="schoolSupportOptionsSelect" name="schoolSupportOptionsSelect"    >
                        <option value="none" selected disabled>Select an Option</option>
                        <option value="test">Test</option>
                        <option value="permanent">Permanent</option>
                    </select>
                </div>

                <label for="nbr_Seance">nbr_Seance:</label>
                <input type="number" min="4" id="nbr_Seance" name="nbr_Seance" >

                <script>
                    document.getElementById('formation').addEventListener('change', function() {
                            var languageDiv = document.getElementById('language');
                            if (this.value === 'language') {
                                languageDiv.style.display = 'block';
                            } else {
                                languageDiv.style.display = 'none';
                            }
                        });

                        document.getElementById('formation').addEventListener('change', function() {
                            var SkillsDiv = document.getElementById('Skills');
                            if (this.value === 'softSkills') {
                                SkillsDiv.style.display = 'block';
                            } else {
                                SkillsDiv.style.display = 'none';
                            }
                        });

    
                    document.getElementById('formation').addEventListener('change', function() {
                        var schoolLevelDiv = document.getElementById('schoolLevel');
                        if (this.value === 'schoolSupport') {
                            schoolLevelDiv.style.display = 'block';
                        } else {
                            schoolLevelDiv.style.display = 'none';
                        }
                    });
                    
                    function handleSchoolLevelChange() {
                        // Get selected school level
                        var schoolLevelSelect = document.getElementById("schoolLevelSelect");
                        var selectedSchoolLevel = schoolLevelSelect.value;
                        // Get the school subjects select element
                        var schoolSubjectSelect = document.getElementById("schoolSubjectSelect");
                        // Clear existing options
                        schoolSubjectSelect.innerHTML =
                            '<option value="none" selected disabled>Select a Subject</option>';
                        // Add options based on the selected school level
                        if (selectedSchoolLevel.includes("High School")) {
                            // High School subjects
                            addOption(schoolSubjectSelect, "Maths");
                            addOption(schoolSubjectSelect, "PC");
                            addOption(schoolSubjectSelect, "SVT");
                            // Additional subjects for specific years
                            if (selectedSchoolLevel.includes("Second year")) {
                                addOption(schoolSubjectSelect, "Arabic");
                                addOption(schoolSubjectSelect, "French 1st");
                                addOption(schoolSubjectSelect, "History");
                                addOption(schoolSubjectSelect, "Islamic Education");
                            }

                            if (selectedSchoolLevel.includes("Third year")) {
                                addOption(schoolSubjectSelect, "Philo");
                                addOption(schoolSubjectSelect, "English 2nd");
                            }
                        }
                        if (selectedSchoolLevel.includes("Secondaire")) {
                            // High School subjects
                            addOption(schoolSubjectSelect, "Maths");
                            addOption(schoolSubjectSelect, "PC");
                            addOption(schoolSubjectSelect, "SVT");
                        }
                        // Show the school subjects div
                        document.getElementById("schoolSubjects").style.display = "block";
                    }

                    function addOption(selectElement, optionText) {
                        var option = document.createElement("option");
                        option.value = optionText;
                        option.text = optionText;
                        selectElement.add(option);
                    }
                </script>

                <input type="submit" value="Add Element">
            </form>
        </div>
    </div>
</body>

</html>

